# GeoGallery

Приложение для добавления и управления пользовательскими маркерами на карте с возможностью прикреплять фотографии к каждой точке.

---

## Оглавление

- [GeoGallery](#geogallery)
  - [Оглавление](#оглавление)
  - [Описание](#описание)
  - [Требования](#требования)
  - [Установка и запуск](#установка-и-запуск)
  - [Принятые решения при реализации](#принятые-решения-при-реализации)
  - [Дополнительные реализованные функции](#дополнительные-реализованные-функции)
  - [Известные проблемы и ограничения](#известные-проблемы-и-ограничения)
  - [Возможные направления для развития](#возможные-направления-для-развития)

## Описание

**GeoGallery** — мобильное приложение на базе Expo, позволяющее:
- Добавлять пользовательские точки на карту долгим нажатием.
- Просматривать и редактировать детали каждой точки (название, фотографии).
- Загружать и удалять изображения, связанные с каждой точкой.
- Использовать кастомные маркеры на Android и цветные подписи на iOS.

## Требования

- Node.js (LTS версия)
- Yarn или npm
- Expo SDK 49+ (рекомендуется последняя версия)
- Expo Go на мобильном устройстве для тестирования
- Git (для загрузки/клонирования репозитория)

## Установка и запуск

1. **Клонируйте репозиторий:**

   ```bash
   git clone <ссылка_на_репозиторий>
   cd GeoGallery
   ```

2. **Установите зависимости:**

   ```bash
   npm install
   ```

3. **Запустите проект:**
    ```bash
   npx expo start
   ```

4. **Сканируйте QR-код с помощью приложения Expo Go** (на Android/iOS) для запуска приложения на мобильном устройстве.
   
## Принятые решения при реализации

- Для навигации между экранами используется **expo-router** с файловой структурой страниц. Это обеспечивает современную, гибкую и масштабируемую маршрутизацию.
- Состояние всех маркеров и связанных с ними данных управляется через React Context (`PointsContext`). Такой подход упрощает управление состоянием и передачу данных между экранами.
- Для выбора изображений используется пакет `expo-image-picker` с учётом рекомендаций по синтаксису для последних версий Expo SDK. Это гарантирует совместимость и стабильную работу на всех поддерживаемых платформах.
- Кастомизация маркеров реализована индивидуально для платформ:
    - На iOS используется цветная надпись, позволяющая выбрать цвет при создании точки.
    - На Android отображается png-иконка из папки assets.
- Все компоненты написаны с использованием TypeScript, что обеспечивает строгую типизацию и упрощает сопровождение кода.
- Модальные окна, выбор цвета и обработка пользовательского ввода реализованы с помощью стандартных компонентов React Native и кастомных стилей для лучшего UX.
- Реализована обработка ошибок для всех ключевых сценариев: выбор изображений, работа с навигацией, обработка данных, взаимодействие с пользователем.

---

## Дополнительные реализованные функции

- **Кастомные маркеры:**
    - На iOS реализованы цветные подписи с выбором цвета для каждой точки.
    - На Android используется кастомная PNG-иконка маркера.
- **Предпросмотр изображений:**  
    - Пользователь может открыть изображение в полноэкранном режиме при нажатии на миниатюру.
- **Улучшенный выбор цвета:**  
    - На iOS для новых маркеров можно выбрать цвет с помощью визуальных цветных кружков.
- **SafeArea:**  
    - Использование `react-native-safe-area-context` для правильного расположения кнопок и элементов интерфейса на устройствах с вырезами и нестандартными рамками.
- **Обработка ошибок:**  
    - Приложение информирует пользователя о проблемах с загрузкой изображений, ошибках навигации, отсутствии доступа и других возможных сбоях.

## Известные проблемы и ограничения

- **Временное хранение данных:**  
  Все данные (маркер и изображения) сохраняются только в памяти приложения. После перезапуска все созданные точки и фотографии будут потеряны. (Постоянное хранение реализуется в следующей лабораторной работе)
- **Особенности отображения маркеров:**  
  На некоторых устройствах Android кастомная иконка маркера может отображаться с искажениями из-за особенностей библиотеки `react-native-maps`.
- **Ограничения Expo Go:**  
  Expo Go не позволяет работать с локальными файлами вне sandbox, доступны только изображения из медиатеки пользователя.
- **Производительность:**  
  При большом количестве точек и изображений возможно замедление интерфейса.


## Возможные направления для развития

- Реализация хранения данных в базе данных (например, `expo-sqlite`).
- Перемещение маркеров (Drag & Drop) и анимация точек на карте.
- Добавление фильтрации и поиска по точкам.
- Кастомизация тем и улучшение пользовательского интерфейса.
- Реализация экспорта/импорта данных или синхронизации с облаком.




